<% if (pagination == 2){ %>
  <% page.posts.each(function(post){ %>
    <%- partial('article', {post: post, index: true}) %>
  <% }) %>
  <% if (page.total > 1){ %>
    <div class="ui center aligned basic segment">
      <%- cr_paginator({
        prev_text: '<i class="angle double left icon"></i>',
        next_text: '<i class="angle double right icon"></i>'
      }) %>
    </div>
  <% } %>
<% } else { %>
    <div>
    <% var last; %>
    <% page.posts.each(function(post, i){ %>
      <% var year = post.date.year(); %>
      <% if (last !== year){ %>
        <% last = year; %>
    </div>
    <div class="ui three column doubling stackable grid">
      <div class="row">
        <a href="<%- url_for('archives/' + year) %>" class="archive-year"><%= year %></a>
      </div>
      <% } %>
      <div class="column">
        <div class="ui fluid card">
          <div class="content">
            <div class="meta">
              <%- partial('post/date', {post: post, class_name: '', date_format: 'MMM D'}) %>
            </div>
            <div class="header">
              <%- partial('post/title', {post: post, class_name: ''}) %>
            </div>
          </div>
        </div>
      </div>
    <% }) %>
    </div>
  <% if (page.total > 1){ %>
    <div class="ui center aligned basic segment">
      <%- cr_paginator({
        prev_text: '<i class="angle double left icon"></i>',
        next_text: '<i class="angle double right icon"></i>'
      }) %>
    </div>
  <% } %>
<% } %>